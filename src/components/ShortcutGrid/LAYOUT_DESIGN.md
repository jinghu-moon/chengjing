# 快捷方式布局设计文档

## 📐 尺寸计算系统

### 1. 核心原则

**外部网格尺寸 = 内部图标尺寸的精确倍数**

```
文件夹外部尺寸：
宽度 = 列数 × 图标大小 + (列数-1) × 列间距
高度 = 行数 × 图标大小 + (行数-1) × 行间距

文件夹内部尺寸：
可用宽度 = 外部宽度 - 2 × padding
可用高度 = 外部高度 - 2 × padding

内部小图标尺寸：
图标大小 = min(
  (可用宽度 - (列数-1) × 内部间距) / 列数,
  (可用高度 - (行数-1) × 内部间距) / 行数
)
```

### 2. 各种文件夹模式的尺寸计算

假设基础参数：
- 图标大小（--item-size）= 80px
- 列间距（--grid-gap-x）= 32px
- 行间距（--grid-gap-y）= 40px
- 文件夹 padding = 12px

#### 2x2 文件夹

```
外部尺寸：
├─ 宽度 = 2×80 + 1×32 = 192px
└─ 高度 = 2×80 + 1×40 = 200px

内部可用：
├─ 宽度 = 192 - 24 = 168px
└─ 高度 = 200 - 24 = 176px

内部间距：6px

小图标尺寸：
├─ 按宽度 = (168 - 6) / 2 = 81px
├─ 按高度 = (176 - 6) / 2 = 85px
└─ 取最小 = 81px ✓ (正方形)
```

#### 3x3 文件夹

```
外部尺寸：
├─ 宽度 = 3×80 + 2×32 = 304px
└─ 高度 = 3×80 + 2×40 = 320px

内部可用：
├─ 宽度 = 304 - 24 = 280px
└─ 高度 = 320 - 24 = 296px

内部间距：4px

小图标尺寸：
├─ 按宽度 = (280 - 8) / 3 = 90.67px
├─ 按高度 = (296 - 8) / 3 = 96px
└─ 取最小 = 90px ✓ (向下取整)
```

#### 1x2 文件夹（竖长）

```
外部尺寸：
├─ 宽度 = 1×80 = 80px
└─ 高度 = 2×80 + 1×40 = 200px

内部可用：
├─ 宽度 = 80 - 24 = 56px
└─ 高度 = 200 - 24 = 176px

内部间距：6px

小图标尺寸：
├─ 按宽度 = 56 / 1 = 56px
├─ 按高度 = (176 - 6) / 2 = 85px
└─ 取最小 = 56px ✓
```

#### 2x1 文件夹（横长）

```
外部尺寸：
├─ 宽度 = 2×80 + 1×32 = 192px
└─ 高度 = 1×80 = 80px

内部可用：
├─ 宽度 = 192 - 24 = 168px
└─ 高度 = 80 - 24 = 56px

内部间距：6px

小图标尺寸：
├─ 按宽度 = (168 - 6) / 2 = 81px
├─ 按高度 = 56 / 1 = 56px
└─ 取最小 = 56px ✓
```

### 3. 完整尺寸对照表

| 模式 | 外部宽度 | 外部高度 | 内部间距 | 小图标尺寸 | 容纳数量 |
|------|---------|---------|---------|-----------|---------|
| 1x1  | 80px    | 80px    | -       | -         | 1 (普通) |
| 2x2  | 192px   | 200px   | 6px     | 81px      | 4       |
| 3x3  | 304px   | 320px   | 4px     | 90px      | 9       |
| 1x2  | 80px    | 200px   | 6px     | 56px      | 2       |
| 2x1  | 192px   | 80px    | 6px     | 56px      | 2       |
| 1x3  | 80px    | 320px   | 4px     | 56px      | 3       |
| 3x1  | 304px   | 80px    | 4px     | 56px      | 3       |
| 2x3  | 192px   | 320px   | 4px     | 81px      | 6       |
| 3x2  | 304px   | 200px   | 4px     | 90px      | 6       |

### 4. 设计建议

#### 推荐的文件夹模式使用场景

**2x2 (81px 图标)**
- ✅ 最常用，视觉平衡好
- ✅ 图标大小适中，易于识别
- 适合：常用应用分类

**3x3 (90px 图标)**
- ✅ 图标最大，视觉效果最好
- ⚠️ 占用空间大
- 适合：主要分类、重要文件夹

**1x2 / 2x1 (56px 图标)**
- ⚠️ 图标较小
- ✅ 节省空间
- 适合：次要分类、装饰性布局

**2x3 / 3x2 (81px/90px 图标)**
- ✅ 中等容量，图标大小合适
- 适合：中型分类

**1x3 / 3x1 (56px 图标)**
- ⚠️ 图标很小，不推荐常用
- 适合：特殊布局需求

### 5. 响应式建议

#### 小屏幕 (<768px)
```
推荐配置：
- 网格：4列 × 3行
- 推荐文件夹：2x2, 2x1, 1x2
- 避免：3x3, 3x2, 2x3 (太大)
```

#### 中屏幕 (768-1440px)
```
推荐配置：
- 网格：6列 × 3行
- 推荐文件夹：2x2, 3x3, 2x3
- 可用：所有尺寸
```

#### 大屏幕 (>1440px)
```
推荐配置：
- 网格：8列 × 4行
- 推荐文件夹：所有尺寸
- 最佳：3x3, 3x2, 2x3
```

### 6. 实施步骤

1. ✅ 创建 `useFolderIconSize` composable
2. ⏳ 在主组件中集成
3. ⏳ 更新 CSS 使用动态尺寸
4. ⏳ 添加响应式断点
5. ⏳ 优化视觉效果

### 7. CSS 变量输出

```css
/* 自动生成的 CSS 变量 */
--folder-2x2-icon-size: 81px;
--folder-2x2-gap: 6px;
--folder-3x3-icon-size: 90px;
--folder-3x3-gap: 4px;
--folder-1x2-icon-size: 56px;
--folder-1x2-gap: 6px;
/* ... 其他模式 */
```

### 8. 视觉优化建议

- 小图标圆角：根据尺寸动态调整（大图标 14px，小图标 8px）
- 内部间距：密集布局用 4px，稀疏布局用 6px
- 悬停效果：小图标 scale(1.1)，不超出边界
- 空文件夹：显示占位网格，透明度 0.3
