/* Drag & Drop Styles */

/* Ghost Element (The element following the mouse) */
.drag-ghost {
  position: fixed;
  z-index: 9999;
  pointer-events: none; /* Crucial for hit testing */
  opacity: 0.9;
  transform: scale(1.05) rotate(2deg);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
  background: var(--bg-panel-card);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-white-20);
  backdrop-filter: blur(10px);
}

/* Global cursor when dragging */
body.grabbing {
  cursor: grabbing !important;
}

/* Use specific cursor for everything when dragging to override hover states */
body.grabbing * {
  cursor: grabbing !important;
}

/* Drop Indicators on Card */
.bookmark-card {
  transition: transform 0.2s, box-shadow 0.2s;
  position: relative;
}

/* Drag Source State (The original card being dragged) */
.bookmark-card.is-dragging-source {
  opacity: 0.4;
  filter: grayscale(100%);
  transform: scale(0.95);
}

/* Drop Target: BEFORE */
.bookmark-card.drag-over-before::before {
  content: '';
  position: absolute;
  top: -4px;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--color-primary);
  border-radius: 2px;
  box-shadow: 0 0 8px var(--color-primary-alpha);
  z-index: 10;
  pointer-events: none;
}

/* Drop Target: AFTER */
.bookmark-card.drag-over-after::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--color-primary);
  border-radius: 2px;
  box-shadow: 0 0 8px var(--color-primary-alpha);
  z-index: 10;
  pointer-events: none;
  animation: pulse-line 1s infinite;
}

/* Drop Target: INSIDE (Folder) */
.bookmark-card.drag-over-inside {
  outline: 2px dashed var(--color-primary);
  outline-offset: -2px;
  background: var(--color-primary-alpha);
}

.bookmark-card.drag-over-inside::after {
  content: '移入文件夹';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--color-primary);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  pointer-events: none;
  z-index: 11;
}

@keyframes pulse-line {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}
